function injek(offId, loyId) {
    var mCode = "PaketNgemil12";
    var slug = "2le1hb5pjyoo9";
    
    // RAHASIA: Mukidi menggunakan ko_click_id. 
    // Kita buat ID acak yang formatnya mirip milik Mukidi (ko_ + 20 karakter alfanumerik)
    var randomKoId = "ko_" + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 10);

    // 1. Susun URL Tracking dengan ko_click_id
    var trackingUrl = "https://smart.link/" + slug + 
                      "?offer_id=" + offId + 
                      "&loyalty_id=" + loyId + 
                      "&code=" + mCode + 
                      "&is_mass_code=1" +
                      "&ko_click_id=" + randomKoId + // <--- INI KUNCINYA
                      "&partner=Tiktok%20Live%20109.5";

    // 2. Gunakan Protokol Smartweb untuk membungkus tracking tersebut
    var finalLink = "gmalite://gmalite-smartweb?weburl=" + encodeURIComponent(trackingUrl);

    // EKSEKUSI
    window.location.href = finalLink;

    // 3. EMERGENCY FALLBACK (Jika tombol masih belum muncul)
    setTimeout(function() {
        if (!document.hidden) {
            // Paksa masuk ke layar konfirmasi dengan ID sesi yang sama
            var nativeRedeem = "gmalite://offers/redeem?offer_id=" + offId + 
                               "&loyalty_id=" + loyId + 
                               "&code=" + mCode + 
                               "&is_mass_code=1" +
                               "&ko_click_id=" + randomKoId;
            window.location.href = nativeRedeem;
        }
    }, 1200);
}
