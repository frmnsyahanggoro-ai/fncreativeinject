<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>redirect</title>
</head>
<body>

<a href="#" onclick="mockInject('123','456')">
  Click here for Inject gmalite-smartweb
</a>

<script>
function mockInject(offId, loyId) {
  const code = "DEMO_CODE";
  const fakeClickId = "ko_demo_" + Math.random().toString(36).slice(2, 10);

  // URL tracking PALSU
  const trackingUrl =
    "https://example.test/track" +
    "?offer_id=" + offId +
    "&loyalty_id=" + loyId +
    "&click_id=" + fakeClickId;

  // Scheme PALSU (tidak terdaftar di OS)
  const fakeScheme =
    "demoapp://smartweb?weburl=" +
    encodeURIComponent(trackingUrl);

  // Simulasi redirect
  console.log("Redirect to:", fakeScheme);

  // Simulasi server error
  document.body.innerHTML =
    "<h1>500 Internal Server Error</h1>" +
    "<p>Mock server failure after security check</p>";
}
</script>

</body>
</html>
